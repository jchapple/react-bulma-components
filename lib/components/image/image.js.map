{"version":3,"sources":["../../../src/components/image/image.js"],"names":["Image","state","onError","setState","src","props","fallback","className","alt","size","rounded","s","PureComponent","propTypes","modifiers","PropTypes","string","bool","style","shape","oneOf","CONSTANTS","SIZES","defaultProps","getDerivedStateFromProps","default"],"mappings":";;;;;;;AAAA;;AACA;;AACA;;AACA;;AACA;;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;IAEqBA,K;;;;;;;;;;;;;;;;qMAuBnBC,K,GAAQ,E,QAERC,O,GAAU,YAAM;AACd,YAAKC,QAAL,CAAc;AACZC,QAAAA,GAAG,EAAE,MAAKC,KAAL,CAAWC;AADJ,OAAd;AAGD,K;;;;;6BAOQ;AAAA,wBASH,KAAKD,KATF;AAAA,UAELE,SAFK,eAELA,SAFK;AAAA,UAGLC,GAHK,eAGLA,GAHK;AAAA,UAILC,IAJK,eAILA,IAJK;AAAA,UAKLH,QALK,eAKLA,QALK;AAAA,UAMLI,OANK,eAMLA,OANK;AAAA,UAOLN,GAPK,eAOLA,GAPK;AAAA,UAQFC,KARE;;AAUP,UAAIM,CAAC,GAAGF,IAAR;;AAEA,UAAI,OAAOA,IAAP,KAAgB,QAApB,EAA8B;AAC5BE,QAAAA,CAAC,aAAMA,CAAN,cAAWA,CAAX,CAAD;AACD;;AAED,aACE,6BAAC,gBAAD,eACMN,KADN;AAEE,QAAA,QAAQ,EAAC,QAFX;AAGE,QAAA,SAAS,EAAE,0BAAW,OAAX,EAAoBE,SAApB,mCACFI,CADE,GACIA,CADJ;AAHb,UAOE;AACE,QAAA,SAAS,EAAE,0BAAW;AACpB,wBAAcD;AADM,SAAX,CADb;AAIE,QAAA,OAAO,EAAE,KAAKR,OAJhB;AAKE,QAAA,GAAG,EAAE,KAAKD,KAAL,CAAWG,GALlB;AAME,QAAA,GAAG,EAAEI;AANP,QAPF,CADF;AAkBD;;;;EAtEgCI,oB;;;AAAdZ,K,CACZa,S,qBACFC,mBAAUD,S;AACbN,EAAAA,SAAS,EAAEQ,mBAAUC,M;AACrBZ,EAAAA,GAAG,EAAEW,mBAAUC,M;AACfR,EAAAA,GAAG,EAAEO,mBAAUC,M;AACfN,EAAAA,OAAO,EAAEK,mBAAUE,I;AACnBC,EAAAA,KAAK,EAAEH,mBAAUI,KAAV,CAAgB,EAAhB,C;AACPV,EAAAA,IAAI,EAAEM,mBAAUK,KAAV,CAAgBC,mBAAUC,KAA1B,C;AACNhB,EAAAA,QAAQ,EAAES,mBAAUC;;AATHhB,K,CAYZuB,Y,qBACFT,mBAAUS,Y;AACbhB,EAAAA,SAAS,EAAE,E;AACXH,EAAAA,GAAG,EAAE,E;AACLI,EAAAA,GAAG,EAAE,E;AACLE,EAAAA,OAAO,EAAE,K;AACTQ,EAAAA,KAAK,EAAE,E;AACPT,EAAAA,IAAI,EAAE,I;AACNH,EAAAA,QAAQ,EAAE;;;AApBON,K,CA+BZwB,wB,GAA2B,UAACnB,KAAD,EAAQJ,KAAR;AAAA,SAAmB;AACnDG,IAAAA,GAAG,EAAEH,KAAK,CAACwB,OAAN,KAAkBpB,KAAK,CAACD,GAAxB,GAA8BC,KAAK,CAACD,GAApC,GAA0CH,KAAK,CAACG,GADF;AAEnDqB,IAAAA,OAAO,EAAEpB,KAAK,CAACD;AAFoC,GAAnB;AAAA,C","sourcesContent":["import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport CONSTANTS from './constants';\nimport modifiers from '../../modifiers';\nimport Element from '../element';\n\nexport default class Image extends PureComponent {\n  static propTypes = {\n    ...modifiers.propTypes,\n    className: PropTypes.string,\n    src: PropTypes.string,\n    alt: PropTypes.string,\n    rounded: PropTypes.bool,\n    style: PropTypes.shape({}),\n    size: PropTypes.oneOf(CONSTANTS.SIZES),\n    fallback: PropTypes.string,\n  }\n\n  static defaultProps = {\n    ...modifiers.defaultProps,\n    className: '',\n    src: '',\n    alt: '',\n    rounded: false,\n    style: {},\n    size: null,\n    fallback: 'http//bulma.io/images/placeholders/480x480.png',\n  }\n\n  state = {}\n\n  onError = () => {\n    this.setState({\n      src: this.props.fallback,\n    });\n  }\n\n  static getDerivedStateFromProps = (props, state) => ({\n    src: state.default !== props.src ? props.src : state.src,\n    default: props.src,\n  })\n\n  render() {\n    const {\n      className,\n      alt,\n      size,\n      fallback,\n      rounded,\n      src,\n      ...props\n    } = this.props;\n    let s = size;\n\n    if (typeof size === 'number') {\n      s = `${s}x${s}`;\n    }\n\n    return (\n      <Element\n        {...props}\n        renderAs=\"figure\"\n        className={classnames('image', className, {\n          [`is-${s}`]: s,\n        })}\n      >\n        <img\n          className={classnames({\n            'is-rounded': rounded,\n          })}\n          onError={this.onError}\n          src={this.state.src}\n          alt={alt}\n        />\n      </Element>\n    );\n  }\n}\n"],"file":"image.js"}